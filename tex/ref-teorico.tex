\chapter{Referencial Teórico}\label{chp:ref-teorico}

Neste capítulo apresentamos os conceitos e definições fundamentais utilizados neste projeto. Começamos pelo conceito de nome, seguido de permutações, pilares da teoria nominal \cite{Gabbay2002,Pitts2003,Pitts2013}, e finalizamos com conjuntos nominais, também chamados de tipos nominais por alguns autores \cite{Urban2008,Choudhury2015}, e suporte.

Nominal sets capture the notion of name (in)dependence through a simple, and uniform, metatheory based on name permutations. By enriching a structure with (group) action ofpermutations is possible to define such notion of dependence, where the set of names astructure depends on is called support while its complement is formed by the so-calledfresh names. In short, nominal sets gives us the tools to express name dependence for anyelement of it, only by the means of name permutation, i.e.: if any permutation changes aname from the support of an element, then it’ll change such element.  (ainda precisa derevisao geral no paragrafo)

Nomes são uteis por seus identificadores, assim como ponteiros em C/C++, ou referencias em Java ou C\#. Sua estrutura interna é abstrata, irrelevante e indivisível. Por isso são denominam como átomos. Ao contrário de átomos na química, assumimos um conjunto contável\footnote{Não é estritamente necessário que o conjunto de nomes seja contável, veja \cite[Exercício 6.2, página 109]{Pitts2013}. Como neste trabalho nomes são implementados como números naturais, incluo contável como uma propriedade bônus.} infinito de nomes, com igualdade decidível, denominado $\nameset$, representado por pelas letras minúsculas no início do alfabeto: $a$, $b$, etc. A teoria nominal captura a noção de (in)dependência de nomes através de uma metateoria, simples e uniforme, baseada em permutações de nomes.

As permutações são funções bijetoras, de um conjunto para si mesmo, na qual formam um grupo de simetria, através da composição de funções ($\circ$) como operação binária. Uma propriedade de permutações, é que estas podem ser decompostas em 2-ciclos, também chamados de transposição ou \textit{swap}:
\begin{definicao}[Transposição de nomes ou \textit{Swap}]\label{def:swap}
	Transposições são permutações 2-ciclos, representando por $\langle a~b \rangle : X \rightarrow X$ e definido como:
	\begin{equation}
		\langle a~b \rangle ~c \triangleq 
		\begin{cases}
			b & \text{\normalfont se } a = c \\
			a & \text{\normalfont se } b = c \\
			c & \text{\normalfont caso contrário}
		\end{cases}
	\end{equation} 
\end{definicao}\noindent
Fazendo $X = \nameset$, obtemos a operação de transposição de nomes, essencialmente uma função que troca nomes. O interesse de utilizar transposição como operação básica de alteração sintática, ao contrário da substituição de termos, em gramáticas com estruturas ligantes, está no fato não dependerem da definição de variável livre ou ligada e serem imunes a captura de variáveis livres \cite{Pitts2003}. 

Denotamos por $\permset = (\nameset, \circ)$, o grupo de permutação finitas sobre $\nameset$, formado pela composição de transposições, com a função identidade como elemento neutro. Reservo as letras minúsculas $p$, $q$, $r$ e $s$ para designar membros deste grupo. Permutações agem sobre conjuntos por meio da operação de ação (à esquerda) de grupo:
\begin{definicao}[Ação de grupo]
	Seja $G$ um grupo, define-se ação à esquerda de $G$ (com elemento neutro representado por $\neutral$) sobre um conjunto $X$ qualquer, uma função $(\action) : G \times X \rightarrow X$ (\fabricio{é melhor: $(\bullet) : G \rightarrow X \rightarrow X$ ?}), que satisfaz:
	\begin{align}
		\forall x \in X,&~~ \neutral \action x = x \label{eq:act-neutral}\\
		\forall g~h \in G, \forall x \in X,&~~ g \action (h \action x) = (g \circ h) \action x \label{eq:act-compat}
	\end{align}
\end{definicao}\noindent
\begin{definicao}[Ação de permutação e conjunto de permutação]\label{def:acao-permutacao}
	Conjunto de permutação é aquele dotado de uma ação de permutação. Ação de permutação é uma ação definda pelo grupo $\permset$.
\end{definicao}\noindent

Ao enriquecer um conjunto com uma ação de permutação (definição \ref{def:acao-permutacao}) conseguimos estabelecer a noção de dependência de nomes, apresentada anteriormente, na qual o conjunto de nomes ao qual uma estrutura depende é chamado de \textbf{suporte}, enquanto seu complemento é denominado de nomes frescos.
Mas primeiramente, vamos discutir o significado informal de (in)dependência, no contexto do \lcalc, pois seu significado depende da gramática e semântica em questão. Um termo, por exemplo $\lambda x. (xy)$, depende de todas as variáveis contidas nele, pois a modificação de qualquer nome implica num novo termo, sintaticamente diferente, como $\lambda x. (xz)$ ou $\lambda z. (zy)$. Entretanto, se considerarmos termos módulo $\alpha$-equivalência ($\aeq$), o conjunto de nomes dependentes são apenas as variáveis livres, pois continuando com nosso exemplo: $\lambda x. (xy) \not\aeq \lambda x. (xz)$, mas $\lambda x. (xy) \aeq \lambda z. (zy)$. Formalmente definimos suporte como:
\begin{definicao}[Suporte]
	Seja $X$ um conjunto de permutação, então $S \subset \nameset$ suporta $x \in X$ se:
	\begin{equation}\label{eq:suporte}
		\forall p \in \permset, ((\forall a \in S, p \action a = a) \rightarrow p \action x = x)
	\end{equation}
\end{definicao}\noindent
Ou seja, se uma permutação $p$, não modifica os nomes do suporte $S$ de $x$, então essa mesma permutação não terá efeito em $x$. Ao contrário, caso a permutação modifique algum elemento de $S$ então ela modificará $x$. A elegância da definição está no fato de fornecer uma forma simples de especificar dependência de nomes, apenas através da noção de permutação de nomes, 

Dois pontos extras sobre a definição de suporte: (1) é importante que o suporte seja sempre finito. Se $S = \nameset$, então não é possível obter novos nomes frescos, afinal, foi por isso que estipulamos um conjunto infinito para nomes.
(2) Podem existir mais de um suporte ($S_1$ e $S_2$) para um elemento de um conjunto nominal. Nestes casos é possível mostrar que $S_1 \cap S_2$ também é um suporte \cite[Proposição 2.3]{Pitts2013}. O que nos leva a definição de menor suporte e frescor, até agora informal:
\begin{definicao}[Menor suporte]
	Seja $X$ um conjunto de permutação, o menor suporte é dado pela intersecção de todos os suportes de $x \in X$:
	\begin{equation}\label{eq:menor-suporte}
		\text{supp}(x) \triangleq \bigcap \left\{ S \mid S \text{ suporta } x \right\}
	\end{equation}	
\end{definicao}
\begin{definicao}[Frescor]
	Dado dois conjuntos de permutação $X$ e $Y$, dizemos que $y \in Y$ é fresco em $x \in X$, denotado por $y \# x$, se:
	\begin{equation}\label{eq:frescor-supp}
		\text{supp}(y) \cap \text{supp}(y) = \emptyset
	\end{equation}
	Como na maioria dos casos $Y = \nameset$, temos que:
	\begin{equation}\label{eq:frescor}
		y \# x \leftrightarrow y \notin \text{supp}(x)
	\end{equation}
\end{definicao}

\fabricio{Só falta conjuntos nominais e funções equivariantes. Colocar formalização construtiva aqui? Acho que não}